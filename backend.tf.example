# Example secure S3 backend with DynamoDB state locking
# Copy this to `backend.tf` and set values, do NOT commit secrets.

terraform {
  backend "s3" {
    bucket         = "<your-prod-tfstate-bucket>"
    key            = "prod/terraform.tfstate"
    region         = "eu-north-1"
    encrypt        = true
    dynamodb_table = "<your-tfstate-lock-table>"
    acl            = "bucket-owner-full-control"
  }
}

# To create the dynamodb table (outside of this repo) run:
# aws dynamodb create-table --table-name <your-tfstate-lock-table> --attribute-definitions AttributeName=LockID,AttributeType=S --key-schema AttributeName=LockID,KeyType=HASH --provisioned-throughput ReadCapacityUnits=5,WriteCapacityUnits=5 --region eu-north-1
